/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.flatfile.api.resources.jobs.types;

import com.fasterxml.jackson.annotation.JsonAnyGetter;
import com.fasterxml.jackson.annotation.JsonAnySetter;
import com.fasterxml.jackson.annotation.JsonIgnoreProperties;
import com.fasterxml.jackson.annotation.JsonInclude;
import com.fasterxml.jackson.annotation.JsonProperty;
import com.fasterxml.jackson.annotation.JsonSetter;
import com.fasterxml.jackson.annotation.Nulls;
import com.fasterxml.jackson.databind.annotation.JsonDeserialize;
import com.flatfile.api.core.ObjectMappers;
import com.flatfile.api.resources.commons.types.Filter;
import com.flatfile.api.resources.commons.types.FilterField;
import com.flatfile.api.resources.commons.types.RecordId;
import com.flatfile.api.resources.commons.types.SearchField;
import com.flatfile.api.resources.commons.types.SearchValue;
import com.flatfile.api.resources.commons.types.SheetId;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import java.util.Objects;
import java.util.Optional;
import org.jetbrains.annotations.NotNull;

@JsonInclude(JsonInclude.Include.NON_ABSENT)
@JsonDeserialize(builder = MutateJobConfig.Builder.class)
public final class MutateJobConfig {
    private final SheetId sheetId;

    private final String mutateRecord;

    private final Optional<String> mutationId;

    private final Optional<String> snapshotLabel;

    private final Optional<String> snapshotId;

    private final Optional<Filter> filter;

    private final Optional<FilterField> filterField;

    private final Optional<SearchValue> searchValue;

    private final Optional<SearchField> searchField;

    private final Optional<String> q;

    private final Optional<List<RecordId>> ids;

    private final Map<String, Object> additionalProperties;

    private MutateJobConfig(
            SheetId sheetId,
            String mutateRecord,
            Optional<String> mutationId,
            Optional<String> snapshotLabel,
            Optional<String> snapshotId,
            Optional<Filter> filter,
            Optional<FilterField> filterField,
            Optional<SearchValue> searchValue,
            Optional<SearchField> searchField,
            Optional<String> q,
            Optional<List<RecordId>> ids,
            Map<String, Object> additionalProperties) {
        this.sheetId = sheetId;
        this.mutateRecord = mutateRecord;
        this.mutationId = mutationId;
        this.snapshotLabel = snapshotLabel;
        this.snapshotId = snapshotId;
        this.filter = filter;
        this.filterField = filterField;
        this.searchValue = searchValue;
        this.searchField = searchField;
        this.q = q;
        this.ids = ids;
        this.additionalProperties = additionalProperties;
    }

    @JsonProperty("sheetId")
    public SheetId getSheetId() {
        return sheetId;
    }

    /**
     * @return A JavaScript function that will be run on each record in the sheet, it should return a mutated record.
     */
    @JsonProperty("mutateRecord")
    public String getMutateRecord() {
        return mutateRecord;
    }

    /**
     * @return If the mutation was generated through some sort of id-ed process, this links this job and that process.
     */
    @JsonProperty("mutationId")
    public Optional<String> getMutationId() {
        return mutationId;
    }

    /**
     * @return If specified, a snapshot will be generated with this label
     */
    @JsonProperty("snapshotLabel")
    public Optional<String> getSnapshotLabel() {
        return snapshotLabel;
    }

    /**
     * @return The generated snapshotId will be stored here
     */
    @JsonProperty("snapshotId")
    public Optional<String> getSnapshotId() {
        return snapshotId;
    }

    @JsonProperty("filter")
    public Optional<Filter> getFilter() {
        return filter;
    }

    @JsonProperty("filterField")
    public Optional<FilterField> getFilterField() {
        return filterField;
    }

    @JsonProperty("searchValue")
    public Optional<SearchValue> getSearchValue() {
        return searchValue;
    }

    @JsonProperty("searchField")
    public Optional<SearchField> getSearchField() {
        return searchField;
    }

    @JsonProperty("q")
    public Optional<String> getQ() {
        return q;
    }

    /**
     * @return The Record Ids param (ids) is a list of record ids that can be passed to several record endpoints allowing the user to identify specific records to INCLUDE in the query, or specific records to EXCLUDE, depending on whether or not filters are being applied. When passing a query param that filters the record dataset, such as 'searchValue', or a 'filter' of 'valid' | 'error' | 'all', the 'ids' param will EXCLUDE those records from the filtered results. For basic queries that do not filter the dataset, passing record ids in the 'ids' param will limit the dataset to INCLUDE just those specific records
     */
    @JsonProperty("ids")
    public Optional<List<RecordId>> getIds() {
        return ids;
    }

    @java.lang.Override
    public boolean equals(Object other) {
        if (this == other) return true;
        return other instanceof MutateJobConfig && equalTo((MutateJobConfig) other);
    }

    @JsonAnyGetter
    public Map<String, Object> getAdditionalProperties() {
        return this.additionalProperties;
    }

    private boolean equalTo(MutateJobConfig other) {
        return sheetId.equals(other.sheetId)
                && mutateRecord.equals(other.mutateRecord)
                && mutationId.equals(other.mutationId)
                && snapshotLabel.equals(other.snapshotLabel)
                && snapshotId.equals(other.snapshotId)
                && filter.equals(other.filter)
                && filterField.equals(other.filterField)
                && searchValue.equals(other.searchValue)
                && searchField.equals(other.searchField)
                && q.equals(other.q)
                && ids.equals(other.ids);
    }

    @java.lang.Override
    public int hashCode() {
        return Objects.hash(
                this.sheetId,
                this.mutateRecord,
                this.mutationId,
                this.snapshotLabel,
                this.snapshotId,
                this.filter,
                this.filterField,
                this.searchValue,
                this.searchField,
                this.q,
                this.ids);
    }

    @java.lang.Override
    public String toString() {
        return ObjectMappers.stringify(this);
    }

    public static SheetIdStage builder() {
        return new Builder();
    }

    public interface SheetIdStage {
        MutateRecordStage sheetId(@NotNull SheetId sheetId);

        Builder from(MutateJobConfig other);
    }

    public interface MutateRecordStage {
        _FinalStage mutateRecord(@NotNull String mutateRecord);
    }

    public interface _FinalStage {
        MutateJobConfig build();

        _FinalStage mutationId(Optional<String> mutationId);

        _FinalStage mutationId(String mutationId);

        _FinalStage snapshotLabel(Optional<String> snapshotLabel);

        _FinalStage snapshotLabel(String snapshotLabel);

        _FinalStage snapshotId(Optional<String> snapshotId);

        _FinalStage snapshotId(String snapshotId);

        _FinalStage filter(Optional<Filter> filter);

        _FinalStage filter(Filter filter);

        _FinalStage filterField(Optional<FilterField> filterField);

        _FinalStage filterField(FilterField filterField);

        _FinalStage searchValue(Optional<SearchValue> searchValue);

        _FinalStage searchValue(SearchValue searchValue);

        _FinalStage searchField(Optional<SearchField> searchField);

        _FinalStage searchField(SearchField searchField);

        _FinalStage q(Optional<String> q);

        _FinalStage q(String q);

        _FinalStage ids(Optional<List<RecordId>> ids);

        _FinalStage ids(List<RecordId> ids);
    }

    @JsonIgnoreProperties(ignoreUnknown = true)
    public static final class Builder implements SheetIdStage, MutateRecordStage, _FinalStage {
        private SheetId sheetId;

        private String mutateRecord;

        private Optional<List<RecordId>> ids = Optional.empty();

        private Optional<String> q = Optional.empty();

        private Optional<SearchField> searchField = Optional.empty();

        private Optional<SearchValue> searchValue = Optional.empty();

        private Optional<FilterField> filterField = Optional.empty();

        private Optional<Filter> filter = Optional.empty();

        private Optional<String> snapshotId = Optional.empty();

        private Optional<String> snapshotLabel = Optional.empty();

        private Optional<String> mutationId = Optional.empty();

        @JsonAnySetter
        private Map<String, Object> additionalProperties = new HashMap<>();

        private Builder() {}

        @java.lang.Override
        public Builder from(MutateJobConfig other) {
            sheetId(other.getSheetId());
            mutateRecord(other.getMutateRecord());
            mutationId(other.getMutationId());
            snapshotLabel(other.getSnapshotLabel());
            snapshotId(other.getSnapshotId());
            filter(other.getFilter());
            filterField(other.getFilterField());
            searchValue(other.getSearchValue());
            searchField(other.getSearchField());
            q(other.getQ());
            ids(other.getIds());
            return this;
        }

        @java.lang.Override
        @JsonSetter("sheetId")
        public MutateRecordStage sheetId(@NotNull SheetId sheetId) {
            this.sheetId = Objects.requireNonNull(sheetId, "sheetId must not be null");
            return this;
        }

        /**
         * <p>A JavaScript function that will be run on each record in the sheet, it should return a mutated record.</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        @JsonSetter("mutateRecord")
        public _FinalStage mutateRecord(@NotNull String mutateRecord) {
            this.mutateRecord = Objects.requireNonNull(mutateRecord, "mutateRecord must not be null");
            return this;
        }

        /**
         * <p>The Record Ids param (ids) is a list of record ids that can be passed to several record endpoints allowing the user to identify specific records to INCLUDE in the query, or specific records to EXCLUDE, depending on whether or not filters are being applied. When passing a query param that filters the record dataset, such as 'searchValue', or a 'filter' of 'valid' | 'error' | 'all', the 'ids' param will EXCLUDE those records from the filtered results. For basic queries that do not filter the dataset, passing record ids in the 'ids' param will limit the dataset to INCLUDE just those specific records</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage ids(List<RecordId> ids) {
            this.ids = Optional.ofNullable(ids);
            return this;
        }

        @java.lang.Override
        @JsonSetter(value = "ids", nulls = Nulls.SKIP)
        public _FinalStage ids(Optional<List<RecordId>> ids) {
            this.ids = ids;
            return this;
        }

        @java.lang.Override
        public _FinalStage q(String q) {
            this.q = Optional.ofNullable(q);
            return this;
        }

        @java.lang.Override
        @JsonSetter(value = "q", nulls = Nulls.SKIP)
        public _FinalStage q(Optional<String> q) {
            this.q = q;
            return this;
        }

        @java.lang.Override
        public _FinalStage searchField(SearchField searchField) {
            this.searchField = Optional.ofNullable(searchField);
            return this;
        }

        @java.lang.Override
        @JsonSetter(value = "searchField", nulls = Nulls.SKIP)
        public _FinalStage searchField(Optional<SearchField> searchField) {
            this.searchField = searchField;
            return this;
        }

        @java.lang.Override
        public _FinalStage searchValue(SearchValue searchValue) {
            this.searchValue = Optional.ofNullable(searchValue);
            return this;
        }

        @java.lang.Override
        @JsonSetter(value = "searchValue", nulls = Nulls.SKIP)
        public _FinalStage searchValue(Optional<SearchValue> searchValue) {
            this.searchValue = searchValue;
            return this;
        }

        @java.lang.Override
        public _FinalStage filterField(FilterField filterField) {
            this.filterField = Optional.ofNullable(filterField);
            return this;
        }

        @java.lang.Override
        @JsonSetter(value = "filterField", nulls = Nulls.SKIP)
        public _FinalStage filterField(Optional<FilterField> filterField) {
            this.filterField = filterField;
            return this;
        }

        @java.lang.Override
        public _FinalStage filter(Filter filter) {
            this.filter = Optional.ofNullable(filter);
            return this;
        }

        @java.lang.Override
        @JsonSetter(value = "filter", nulls = Nulls.SKIP)
        public _FinalStage filter(Optional<Filter> filter) {
            this.filter = filter;
            return this;
        }

        /**
         * <p>The generated snapshotId will be stored here</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage snapshotId(String snapshotId) {
            this.snapshotId = Optional.ofNullable(snapshotId);
            return this;
        }

        @java.lang.Override
        @JsonSetter(value = "snapshotId", nulls = Nulls.SKIP)
        public _FinalStage snapshotId(Optional<String> snapshotId) {
            this.snapshotId = snapshotId;
            return this;
        }

        /**
         * <p>If specified, a snapshot will be generated with this label</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage snapshotLabel(String snapshotLabel) {
            this.snapshotLabel = Optional.ofNullable(snapshotLabel);
            return this;
        }

        @java.lang.Override
        @JsonSetter(value = "snapshotLabel", nulls = Nulls.SKIP)
        public _FinalStage snapshotLabel(Optional<String> snapshotLabel) {
            this.snapshotLabel = snapshotLabel;
            return this;
        }

        /**
         * <p>If the mutation was generated through some sort of id-ed process, this links this job and that process.</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage mutationId(String mutationId) {
            this.mutationId = Optional.ofNullable(mutationId);
            return this;
        }

        @java.lang.Override
        @JsonSetter(value = "mutationId", nulls = Nulls.SKIP)
        public _FinalStage mutationId(Optional<String> mutationId) {
            this.mutationId = mutationId;
            return this;
        }

        @java.lang.Override
        public MutateJobConfig build() {
            return new MutateJobConfig(
                    sheetId,
                    mutateRecord,
                    mutationId,
                    snapshotLabel,
                    snapshotId,
                    filter,
                    filterField,
                    searchValue,
                    searchField,
                    q,
                    ids,
                    additionalProperties);
        }
    }
}
